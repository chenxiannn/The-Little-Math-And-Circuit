### 1.从电容谈起

还记得中学物理中学过的电容不，有的会想起C这个符号，有的会记起阻直流通交流，那我们从电容器最基本的定义开始：电容是指物体容纳电荷的能力，简单点说就是，能储存多少电荷量，可以把电容器想象成一个储存电荷的一个大池子，电荷可以通过导线不停地流入或者流出这个池子，池子越大，那储存的电荷量也就越多，也就意味着电容越大，如果1所示。

![](/assets/MathCircuit_S2_P0.png)

图1.电容与水池对比图

电荷在电容里累积的电荷量为Q（假设电容初始电荷为0），累积的电荷在电容两端产生电势差称为电容电压U，U与Q的关系是一个比例关系C（就是电容值）。如果简单理解的话，Is电流源相当于水泵，Q相当于池子的水量，U相当于水深，当水深U一定的时候，容纳的水量越多，说明池子越大，也就是意味着电容值C越大。I电流就相当于水管里的流速，I越大，说明往池子里充水速度越快，这就是Q变化率越快。于是把刚刚这段话变成公式，我们得到下面的式子：

![](/assets/MathCircuit_S2_E0.png)

其中：Q对应电荷量，U对应电容电压，I对应电流。

在这里电流源Is给电容C充电的电路里，如果一切条件理想化，那电容上的电压U会一直上升到无穷大，电容越大上升的速度越慢，Is越大，上升的速度越快。

如果我们将电流源Is变为电压源Us，同时在回路里加入一个电阻R，如果2所示，现在想问一下，电容C上的电压会怎么变化呢？？

![](/assets/MathCircuit_S2_P1.png)

图2.RC充电电路

我们一步步来思考这个问题，首先，如果R为0的话，那会怎么样？电压源与电容并联，那电容会瞬间从0充满电压Us。下面加入电阻R，刚开始电容上电压为0，整个回路的充电电流就是Us/R，随着电容的电压Uc升高，这个充电电流会慢慢变小（Us-Uc）/R，也就是说随着电容电压的升高，充电的速度会越来越慢，最终稳定在Us电压，如果手动画一下的话，那大概走势如图3所示。是不是很像指数函数的变化，我们可以用指数函数去拟合一通。

![](/assets/MathCircuit_S2_P2.png)

图3.电容电压变化图

如果用数学去表达刚刚描述这个动态过程的变化，该怎么做呢？？首先电源电压等于电阻上的电压加上电容电压，然后电阻上的电流等于电容的电流，电容上的电流等于电容电压的变化率与电容之积，将这几句话用数学表达一下就是下面的数学公式。

![](/assets/MathCircuit_S2_E2.png)

有没有发现呀？？？我们的微分方程出来了，就是一个RC电路。关于微分方程的求解，高等数学里专门写了一章去求微分方程的解，总之噼里啪啦一大堆，最后做题的时候，一顿代公式，什么齐次非齐次通解之类的，甚是烦恼，最后终于算出下面的解来：

![](/assets/MathCircuit_S2_E1.png)

玩电子，怎么可能会被数学搞爬下，有没有什么好方法去简化这个求解过程呢，当然有啦。我们看电容Uc最终的稳态电压是Us，然后就是Uc的动态变化趋势，R变大，那阻碍能力更强，C变大的话那意味着池子会变得更大，这个都会变慢，所以有一个时间常数跟RC相关，最终决定Uc的动态变化趋势。

设定：Us=1V，R=1k欧，C=1000uF，Uc初始电压=0，Uc电压的动态变化过程如图3所示。RC=1ms，这个称为RC电路的时间常数，从图3中我们得到，1倍时间常数到0.6513Us，2倍时间常数到0.8784Us，3倍时间常数到0.9576Us，4倍时间常数到0.9852Us。

![](/assets/MathCircuit_S2_P3.png)

图3.RC动态过程

### 2.电感走起

还记得中学学过的电感不？电感上会累积磁链，而磁链是对电动势的积分，电感上的感应电动势就等于磁链对时间的导数，磁链与电流的比值就是电感，于是我们看下面的电路图

![](/assets/MathCircuit_S2_P4.png)

图4.电感L电路

整个电路电感L的磁链等于Us的积分，电感的电流等于磁链比上电感值，于是得到下面的式子

![](/assets/MathCircuit_S2_E6.png)

在这里电压源Us给电感L充电的电路里，如果一切条件理想化，那电感上的电电流I会一直上升到无穷大，电感越大上升的速度越慢，Us越大，电流上升的速度越快。

如果我们将电压源Us变为电流源Is，同时在回路里加入一个电阻R，如果5所示，现在想问一下，电感L上的电压会怎么变化呢？？

![](/assets/MathCircuit_S2_P5.png)

图5.电感RL电路

是不是看着很像，RC电路，后面的话，就不推导了。其实L与C是一个对偶元件

**电容是：电压的微分对应电流，电流的积分是电压，电压是果，电流是因**

**电感是：电流的微分对应电压，电压的积分是电流，电流是果，电压是因**

### 3.RLC电路

下面我们把一个电感和一个电容连在一起，会发生什么奇妙的现象呢？？？假设电感1mH，初始电流为0，1000uF电容，初始电压为1V，我们直接在Simulink里进行仿真，这个电路会发生什么反应？？？如图6所示

![](/assets/MathCircuit_S2_P6.png)

图6.LC电路仿真图（黄色为电容电压，紫色为电感电流）

电感的电流和电容的电压，都震荡起来了，我去，这是为什么？？？？我们回忆一下上一节我们得到的结论，电容的电压是果电流是因，电感的电压是因电流是果，如果把这俩放一起，那不就是电流与电压互为因果了嘛？？？？互为因果，你推我一把，我又反过来推你一把，不断地推来推去，那不就都震荡起来啦。。。

如果这个LC电路没有任何损耗的话，那这个震荡过程会永远进行下去，如果我们用数学方式描述刚才的过程的话，可以这样进行

![](/assets/MathCircuit_S2_E7.png)

有没有看到最后的这个微分方程，二阶特征方程的，没有实根，纯虚数解，于是高等数学公式一路走起，最后的解是三角函数，这也正好对应了我们之前仿真的震荡。

如果在LC里面加一个0.1欧的电阻呢？？？那又会是如何反应呢？？我们先仿真试一试效果如图7所示。

![](/assets/MathCircuit_S2_P7.png)

图7.RLC仿真图

为什么震荡的幅度不断衰减，越来越小，废话，因为电流流过电阻会消耗能量呀，。。。。每震荡一次，能量就会消耗掉一部分，越来越少

整个RLC如果用微分方程表达的话，那mmmm，我已经不想去算了。。。太麻烦了

